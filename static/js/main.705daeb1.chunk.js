(this.webpackJsonpdashboard=this.webpackJsonpdashboard||[]).push([[0],{51:function(e,t,a){},53:function(e,t,a){},97:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a.n(c),s=a(12),r=a.n(s),i=(a(51),a(19)),l=a.n(i),o=a(37),d=a(38),h=a(39),u=a(46),j=a(45),m=(a.p,a(53),a(54),a(40)),b=a.n(m),f=a(10),g=a.n(f),y=a(20),x=a.n(y),O=a(103),v=a(44),p=a(0),C=function(e){Object(u.a)(a,e);var t=Object(j.a)(a);function a(e){var c;return Object(d.a)(this,a),(c=t.call(this,e)).state={cardsData:[],dataFromJson:{},heatmapFromJson:{},dataFromJson2:{},heatmapFromJson2:{},plotsData:[],plotLayout:[],heatMapData:[],heatMapLayout:[],heatMapConfig:[],categoryToday:"",city:"",dateUpdated:"",lastChangeDate:"",selectedType:"aggressive"},c}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=this;b.a.init({key:"1-VF4_JFPZ5-mZGqdx0y0X_9CIc6WY-RMzeQjvxXNvZE",callback:function(t){console.log("google sheet data ---\x3e",t),e.setState({cardsData:t})},simpleSheet:!0}),this.getData()}},{key:"getData",value:function(){var e=Object(o.a)(l.a.mark((function e(){var t,a,c,n=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("https://raw.githubusercontent.com/aberrantdoc/policydashboard/master/district_data/actual.json").then((function(e){n.setState({dataFromJson:e.data})}));case 2:return e.next=4,g.a.get("https://raw.githubusercontent.com/aberrantdoc/policydashboard/master/district_data/demo.json").then((function(e){n.setState({heatmapFromJson:e.data})}));case 4:return e.next=6,g.a.get("https://raw.githubusercontent.com/aberrantdoc/policydashboard/master/district_data/agg_actual.json").then((function(e){n.setState({dataFromJson2:e.data})}));case 6:return e.next=8,g.a.get("https://raw.githubusercontent.com/aberrantdoc/policydashboard/master/district_data/agg_demo.json").then((function(e){n.setState({heatmapFromJson2:e.data})}));case 8:t=[],a=this.state.dataFromJson&&Object.keys(this.state.dataFromJson),c=this.state.dataFromJson2&&Object.keys(this.state.dataFromJson2),(t="conservative"===this.state.selectedType?a:c).pop(),this.setState({city:t[0]}),this.setData(t[0]);case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setData",value:function(e){console.log(this.state);var t="conservative"===this.state.selectedType?this.state.dataFromJson:this.state.dataFromJson2,a="conservative"===this.state.selectedType?this.state.heatmapFromJson:this.state.heatmapFromJson2;if(t){var c=[{type:"indicator",mode:"number+gauge",value:t[e].pct_ICU[t[e].pct_ICU.length-1],number:{suffix:"%",font:{size:20}},align:"right",domain:{x:[.5,1],y:[.05,.15]},title:{text:"ICU Vacancy (%)  ",font:{size:20}},gauge:{shape:"bullet",axis:{range:[null,100]},threshold:{line:{color:"3d3d5c",width:2},thickness:.75,value:t[e].pct_ICU[t[e].pct_ICU.length-14]},steps:[{range:[0,40],color:"fc0f03"},{range:[40,80],color:"f2705c"},{range:[80,100],color:"FFBF00"}],bar:{color:"1f1f2e"}}},{type:"indicator",mode:"number+gauge",value:t[e].daily_tests_per_million_14ma[t[e].daily_tests_per_million_14ma.length-1],number:{font:{size:20}},align:"right",domain:{x:[.5,1],y:[.22,.32]},title:{text:"Tests Per Million  ",font:{size:20}},gauge:{shape:"bullet",axis:{range:[null,5e3]},threshold:{line:{color:"3d3d5c",width:2},thickness:.75,value:t[e].daily_tests_per_million_14ma[t[e].daily_tests_per_million_14ma.length-14]},steps:[{range:[0,140],color:"fc0f03"},{range:[140,5e3],color:"FFBF00"}],bar:{color:"1f1f2e"}}},{type:"indicator",mode:"number+gauge",value:t[e].TPR[t[e].TPR.length-1],number:{suffix:"%",font:{size:20}},align:"right",domain:{x:[.5,1],y:[.39,.49]},title:{text:"Tests Positivity (%)  ",font:{size:20}},gauge:{shape:"bullet",axis:{range:[null,100]},threshold:{line:{color:"3d3d5c",width:2},thickness:.75,value:t[e].TPR[t[e].TPR.length-14]},steps:[{range:[0,5],color:"FFBF00"},{range:[5,10],color:"f2705c"},{range:[10,100],color:"fc0f03"}],bar:{color:"1f1f2e"}}},{type:"indicator",mode:"number+gauge",value:t[e].rate_increase_new_cases[t[e].rate_increase_new_cases.length-1],number:{suffix:"%",font:{size:20}},align:"right",domain:{x:[.5,1],y:[.56,.66]},title:{text:"Case Growth Rate (%)  ",font:{size:20}},gauge:{shape:"bullet",axis:{range:[-50,100]},threshold:{line:{color:"3d3d5c",width:2},thickness:.75,value:t[e].rate_increase_new_cases[t[e].rate_increase_new_cases.length-14]},steps:[{range:[-50,2],color:"FFBF00"},{range:[2,5],color:"f2705c"},{range:[5,100],color:"fc0f03"}],bar:{color:"1f1f2e"}}},{type:"indicator",mode:"number+gauge",value:t[e].daily_cases_per_million[t[e].daily_cases_per_million.length-1],number:{font:{size:20}},align:"right",domain:{x:[.5,1],y:[.73,.83]},title:{text:"Cases Per Million  ",font:{size:20}},gauge:{shape:"bullet",axis:{range:[null,2e3]},threshold:{line:{color:"3d3d5c",width:2},thickness:.75,value:t[e].daily_cases_per_million[t[e].daily_cases_per_million.length-14]},steps:[{range:[0,20],color:"FFBF00"},{range:[20,100],color:"f2705c"},{range:[100,2e3],color:"fc0f03"}],bar:{color:"1f1f2e"}}}],n=a[e].category,s=[{z:[(n=(n=(n=(n=n.map((function(e){return e.replace("GRAY",3)}))).map((function(e){return e.replace("ORANGE",2)}))).map((function(e){return e.replace("YELLOW",1)}))).map((function(e){return e.replace("RED",0)}))).slice(n.length-90)],colorscale:[[0,"rgb(255, 77, 77)"],[.33,"rgb(255, 77, 77)"],[.33,"#ffbf00"],[.67,"#ffbf00"],[.67,"#f2705c"],[1,"#f2705c"]],type:"heatmap",showscale:!1,y:[" "]}],r=t[e].category[t[e].category.length-1],i=t[e].dates[t[e].dates.length-1],l=a[e].is_change,o=l[l.length-1],d=l.reverse().findIndex((function(e){return e!==o}));l.reverse();var h=a[e].dates,u=h.reverse()[d];h.reverse(),this.setState({plotsData:c,plotLayout:{width:750,height:500,margin:{t:10,r:25,l:25,b:10}},heatMapData:s,heatMapLayout:{width:500,height:50,margin:{t:10,r:25,l:25,b:10}},heatMapConfig:{responsive:!0},categoryToday:r,dateUpdated:i,lastChangeDate:u})}}},{key:"selectCity",value:function(e){this.setState({city:e}),this.setData(e)}},{key:"switchApproach",value:function(){var e=this;this.setState({selectedType:"conservative"===this.state.selectedType?"aggressive":"conservative"},(function(){e.setData(e.state.city)}))}},{key:"render",value:function(){var e=this,t=this.state.cardsData,a=this.state.categoryToday&&this.state.categoryToday.toLowerCase().charAt(0).toUpperCase()+this.state.categoryToday.toLowerCase().slice(1),c=t.filter((function(e){return"Medical Preparedness"===e.Domain})),n="";c.forEach((function(e){"1"===e[a]&&(n+="- ",n+=e.Policy,n+="\n")})),console.log(n);var s=t.filter((function(e){return"Mobility"===e.Domain})),r="";s.forEach((function(e){"1"===e[a]&&(r+="- ",r+=e.Policy,r+="\n")}));var i=t.filter((function(e){return"Testing"===e.Domain})),l="";i.forEach((function(e){"1"===e[a]&&(l+="- ",l+=e.Policy,l+="\n")}));var o=t.filter((function(e){return"Closures"===e.Domain})),d="";o.forEach((function(e){"1"===e[a]&&(d+="- ",d+=e.Policy,d+="\n")}));var h=t.filter((function(e){return"Contact Tracing"===e.Domain})),u="";h.forEach((function(e){"1"===e[a]&&(u+="- ",u+=e.Policy,u+="\n")}));var j=t.filter((function(e){return"Communication"===e.Domain})),m="";j.forEach((function(e){"1"===e[a]&&(m+="- ",m+=e.Policy,m+="\n")}));var b=t.filter((function(e){return"Data"===e.Domain})),f="";b.forEach((function(e){"1"===e[a]&&(f+="- ",f+=e.Policy,f+="\n")}));var g=t.filter((function(e){return"Public Leadership"===e.Domain})),y="";g.forEach((function(e){"1"===e[a]&&(y+="- ",y+=e.Policy,y+="\n")}));var C=t.filter((function(e){return"Vaccinations"===e.Domain})),N="";C.forEach((function(e){"1"===e[a]&&(N+="- ",N+=e.Policy,N+="\n")}));var S=t.filter((function(e){return"Gatherings"===e.Domain})),k="";S.forEach((function(e){"1"===e[a]&&(k+="- ",k+=e.Policy,k+="\n")}));var I=t.filter((function(e){return"Mask Wearing and Ventilation"===e.Domain})),_="";I.forEach((function(e){"1"===e[a]&&(_+="- ",_+=e.Policy,_+="\n")}));var T=t.filter((function(e){return"Physical Distancing and Hygiene"===e.Domain})),D="";return T.forEach((function(e){"1"===e[a]&&(D+="- ",D+=e.Policy,D+="\n")})),Object(p.jsxs)("div",{className:"App",children:[Object(p.jsx)("div",{className:"heading jumbotron-fluid",style:{backgroundColor:"black"},children:Object(p.jsx)("div",{className:"container",children:Object(p.jsx)("h1",{className:"display-4",children:this.state.city})})}),Object(p.jsx)("div",{className:"dropdown",children:Object(p.jsxs)(O.a,{children:[Object(p.jsx)(O.a.Toggle,{variant:"secondary",id:"dropdown-basic",children:this.state.city}),Object(p.jsxs)(O.a.Menu,{children:[Object(p.jsx)(O.a.Item,{onSelect:function(){return e.selectCity("East Godavari")},children:"East Godavari"}),Object(p.jsx)(O.a.Item,{onSelect:function(){return e.selectCity("Kolhapur")},children:"Kolhapur"}),Object(p.jsx)(O.a.Item,{onSelect:function(){return e.selectCity("Raipur")},children:"Raipur"}),Object(p.jsx)(O.a.Item,{onSelect:function(){return e.selectCity("Srikakulam")},children:"Srikakulam"}),Object(p.jsx)(O.a.Item,{onSelect:function(){return e.selectCity("Mysuru")},children:"Mysuru"}),Object(p.jsx)(O.a.Item,{onSelect:function(){return e.selectCity("Varanasi")},children:"Varanasi"}),Object(p.jsx)(O.a.Item,{onSelect:function(){return e.selectCity("Chittoor")},children:"Chittoor"}),Object(p.jsx)(O.a.Item,{onSelect:function(){return e.selectCity("Tumakuru")},children:"Tumakuru"}),Object(p.jsx)(O.a.Item,{onSelect:function(){return e.selectCity("Nagpur")},children:"Nagpur"}),Object(p.jsx)(O.a.Item,{onSelect:function(){return e.selectCity("Nanded")},children:"Nanded"}),Object(p.jsx)(O.a.Item,{onSelect:function(){return e.selectCity("Vellore")},children:"Vellore"}),Object(p.jsx)(O.a.Item,{onSelect:function(){return e.selectCity("Sangli")},children:"Sangli"}),Object(p.jsx)(O.a.Item,{onSelect:function(){return e.selectCity("Chitradurga")},children:"Chitradurga"}),Object(p.jsx)(O.a.Item,{onSelect:function(){return e.selectCity("Ballari")},children:"Ballari"}),Object(p.jsx)(O.a.Item,{onSelect:function(){return e.selectCity("Bareilly")},children:"Bareilly"}),Object(p.jsx)(O.a.Item,{onSelect:function(){return e.selectCity("Nashik")},children:"Nashik"}),Object(p.jsx)(O.a.Item,{onSelect:function(){return e.selectCity("Thane")},children:"Thane"}),Object(p.jsx)(O.a.Item,{onSelect:function(){return e.selectCity("Visakhapatnam")},children:"Visakhapatnam"}),Object(p.jsx)(O.a.Item,{onSelect:function(){return e.selectCity("Vadodara")},children:"Vadodara"}),Object(p.jsx)(O.a.Item,{onSelect:function(){return e.selectCity("Rajkot")},children:"Rajkot"}),Object(p.jsx)(O.a.Item,{onSelect:function(){return e.selectCity("Tiruvannamalai")},children:"Tiruvannamalai"}),Object(p.jsx)(O.a.Item,{onSelect:function(){return e.selectCity("Aligarh")},children:"Aligarh"}),Object(p.jsx)(O.a.Item,{onSelect:function(){return e.selectCity("Ghaziabad")},children:"Ghaziabad"}),Object(p.jsx)(O.a.Item,{onSelect:function(){return e.selectCity("Vizianagaram")},children:"Vizianagaram"}),Object(p.jsx)(O.a.Item,{onSelect:function(){return e.selectCity("Prakasam")},children:"Prakasam"}),Object(p.jsx)(O.a.Item,{onSelect:function(){return e.selectCity("Lucknow")},children:"Lucknow"}),Object(p.jsx)(O.a.Item,{onSelect:function(){return e.selectCity("Pune")},children:"Pune"}),Object(p.jsx)(O.a.Item,{onSelect:function(){return e.selectCity("Jaipur")},children:"Jaipur"}),Object(p.jsx)(O.a.Item,{onSelect:function(){return e.selectCity("Jalgaon")},children:"Jalgaon"}),Object(p.jsx)(O.a.Item,{onSelect:function(){return e.selectCity("Ahmedabad")},children:"Ahmedabad"}),Object(p.jsx)(O.a.Item,{onSelect:function(){return e.selectCity("Satara")},children:"Satara"}),Object(p.jsx)(O.a.Item,{onSelect:function(){return e.selectCity("Belagavi")},children:"Belagavi"}),Object(p.jsx)(O.a.Item,{onSelect:function(){return e.selectCity("Madurai")},children:"Madurai"}),Object(p.jsx)(O.a.Item,{onSelect:function(){return e.selectCity("Guntur")},children:"Guntur"}),Object(p.jsx)(O.a.Item,{onSelect:function(){return e.selectCity("Kancheepuram")},children:"Kancheepuram"}),Object(p.jsx)(O.a.Item,{onSelect:function(){return e.selectCity("Solapur")},children:"Solapur"}),Object(p.jsx)(O.a.Item,{onSelect:function(){return e.selectCity("Kurnool")},children:"Kurnool"}),Object(p.jsx)(O.a.Item,{onSelect:function(){return e.selectCity("Surat")},children:"Surat"}),Object(p.jsx)(O.a.Item,{onSelect:function(){return e.selectCity("Coimbatore")},children:"Coimbatore"}),Object(p.jsx)(O.a.Item,{onSelect:function(){return e.selectCity("Palghar")},children:"Palghar"}),Object(p.jsx)(O.a.Item,{onSelect:function(){return e.selectCity("West Godavari")},children:"West Godavari"}),Object(p.jsx)(O.a.Item,{onSelect:function(){return e.selectCity("Kanpur Nagar")},children:"Kanpur Nagar"}),Object(p.jsx)(O.a.Item,{onSelect:function(){return e.selectCity("Chennai")},children:"Chennai"})]})]})}),Object(p.jsxs)("div",{className:"date d-none d-lg-block",children:["on ",this.state.dateUpdated," 2021"]}),Object(p.jsx)("div",{className:"switch",children:Object(p.jsx)(v.a,{variant:"secondary",onClick:function(){return e.switchApproach()},children:"aggressive"===this.state.selectedType?"Switch to conservative":"Switch to aggressive"})}),Object(p.jsx)("div",{className:"first",children:Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{className:"col-md-6 d-none d-lg-block",children:Object(p.jsx)("div",{id:"metric",children:Object(p.jsx)(x.a,{data:this.state.plotsData,layout:this.state.plotLayout})})}),Object(p.jsx)("div",{className:"col-md-4 col-sm-8",children:Object(p.jsxs)("div",{className:"left",children:[Object(p.jsxs)("div",{className:"risk-card risk card",children:[Object(p.jsx)("div",{className:"card-header",children:Object(p.jsx)("h2",{className:"lead font-weight-bold",children:"Today's Risk Score"})}),Object(p.jsx)("div",{className:"risk card-body",style:{backgroundColor:"RED"===this.state.categoryToday?"rgb(255, 77, 77)":"YELLOW"===this.state.categoryToday?"#ffbf00":"ORANGE"===this.state.categoryToday?"#f2705c":"#eaeaec",fontWeight:"bold",textAlign:"center"},children:Object(p.jsx)("span",{className:"risk-text",children:"RED"===this.state.categoryToday?"HIGH RISK":"YELLOW"===this.state.categoryToday?"LOW RISK":"ORANGE"===this.state.categoryToday?"MEDIUM RISK":"INSUFFICIENT DATA TO CATEGORIZE"})})]}),Object(p.jsxs)("div",{className:"d-none d-lg-block last-changed-date",children:["Risk score last changed on ",this.state.lastChangeDate]}),Object(p.jsx)("div",{id:"status",children:Object(p.jsx)(x.a,{data:this.state.heatMapData,layout:this.state.heatMapLayout,config:this.state.heatMapConfig})}),Object(p.jsx)("div",{className:"d-none d-lg-block last-changed-text",children:"Status of last 90 days"})]})})]})}),Object(p.jsxs)("div",{className:"second",children:[Object(p.jsx)("h2",{className:"display-4 text-center",children:"Suggested Policy Actions"}),Object(p.jsx)("br",{}),Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{className:"col-md-4",children:Object(p.jsxs)("div",{className:"action card",children:[Object(p.jsx)("div",{className:"card-header",style:{backgroundColor:"#d8e2dc"},children:Object(p.jsx)("p",{className:"lead",children:"Gatherings"})}),Object(p.jsx)("div",{className:"card-body",children:k})]})}),Object(p.jsx)("div",{className:"col-md-4",children:Object(p.jsxs)("div",{className:"action card",children:[Object(p.jsx)("div",{className:"card-header",style:{backgroundColor:"#d8e2dc"},children:Object(p.jsx)("p",{className:"lead",children:"Closures"})}),Object(p.jsx)("div",{className:"card-body",children:d})]})}),Object(p.jsx)("div",{className:"col-md-4",children:Object(p.jsxs)("div",{className:"action card",children:[Object(p.jsx)("div",{className:"card-header",style:{backgroundColor:"#d8e2dc"},children:Object(p.jsx)("p",{className:"lead",children:"Travel"})}),Object(p.jsx)("div",{className:"card-body",children:r})]})}),Object(p.jsx)("div",{className:"col-md-4",children:Object(p.jsxs)("div",{className:"action card",children:[Object(p.jsx)("div",{className:"card-header",style:{backgroundColor:"#fcd5ce"},children:Object(p.jsx)("p",{className:"lead",children:"Medical Preparedness"})}),Object(p.jsx)("div",{className:"card-body",children:n})]})}),Object(p.jsx)("div",{className:"col-md-4",children:Object(p.jsxs)("div",{className:"action card",children:[Object(p.jsx)("div",{className:"card-header",style:{backgroundColor:"#fcd5ce"},children:Object(p.jsx)("p",{className:"lead",children:"Testing"})}),Object(p.jsx)("div",{className:"card-body",children:l})]})}),Object(p.jsx)("div",{className:"col-md-4",children:Object(p.jsxs)("div",{className:"action card",children:[Object(p.jsx)("div",{className:"card-header",style:{backgroundColor:"#fcd5ce"},children:Object(p.jsx)("p",{className:"lead",children:"Vaccination"})}),Object(p.jsx)("div",{className:"card-body",children:N})]})}),Object(p.jsx)("div",{className:"col-md-4",children:Object(p.jsxs)("div",{className:"action card",children:[Object(p.jsx)("div",{className:"card-header",style:{backgroundColor:"#fcd5ce"},children:Object(p.jsx)("p",{className:"lead",children:"Contact Tracing"})}),Object(p.jsx)("div",{className:"card-body",children:u})]})}),Object(p.jsx)("div",{className:"col-md-4",children:Object(p.jsxs)("div",{className:"action card",children:[Object(p.jsx)("div",{className:"card-header",style:{backgroundColor:"#ffd7ba"},children:Object(p.jsx)("p",{className:"lead",children:"Communication "})}),Object(p.jsx)("div",{className:"card-body",children:m})]})}),Object(p.jsx)("div",{className:"col-md-4",children:Object(p.jsxs)("div",{className:"action card",children:[Object(p.jsx)("div",{className:"card-header",style:{backgroundColor:"#ffd7ba"},children:Object(p.jsx)("p",{className:"lead",children:"Data"})}),Object(p.jsx)("div",{className:"card-body",children:f})]})}),Object(p.jsx)("div",{className:"col-md-4",children:Object(p.jsxs)("div",{className:"action card",children:[Object(p.jsx)("div",{className:"card-header",style:{backgroundColor:"#ffd7ba"},children:Object(p.jsx)("p",{className:"lead",children:"Public Leadership"})}),Object(p.jsx)("div",{className:"card-body",children:y})]})}),Object(p.jsx)("div",{className:"col-md-4",children:Object(p.jsxs)("div",{className:"action card",children:[Object(p.jsx)("div",{className:"card-header",style:{backgroundColor:"#ffd7ba"},children:Object(p.jsx)("p",{className:"lead",children:"Mask Wearing and Ventilation"})}),Object(p.jsx)("div",{className:"card-body",children:_})]})}),Object(p.jsx)("div",{className:"col-md-4",children:Object(p.jsxs)("div",{className:"action card",children:[Object(p.jsx)("div",{className:"card-header",style:{backgroundColor:"#ffd7ba"},children:Object(p.jsx)("p",{className:"lead",children:"Physical Distancing and Hygiene"})}),Object(p.jsx)("div",{className:"card-body",children:D})]})})]})]})]})}}]),a}(c.Component),N=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,104)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),c(e),n(e),s(e),r(e)}))};r.a.render(Object(p.jsx)(n.a.StrictMode,{children:Object(p.jsx)(C,{})}),document.getElementById("root")),N()}},[[97,1,2]]]);
//# sourceMappingURL=main.705daeb1.chunk.js.map